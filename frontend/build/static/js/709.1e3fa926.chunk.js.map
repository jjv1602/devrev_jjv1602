{"version":3,"file":"static/js/709.1e3fa926.chunk.js","mappings":"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","sources":["webpack://frontend/./src/Components/Screen/Dashboard/DownBox/Result.module.css?7f62","Components/Screen/Dashboard/DownBox/Result.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"par\":\"Result_par__Y9xC1\",\"bk\":\"Result_bk__vj8Sy\",\"bookhd\":\"Result_bookhd__0Qu2h\",\"badge\":\"Result_badge__Eb-m5\",\"carticon\":\"Result_carticon__hobsM\",\"booktxt\":\"Result_booktxt__5tVy9\",\"modpar\":\"Result_modpar__IDOr1\",\"modh\":\"Result_modh__MAX2q\",\"modb\":\"Result_modb__6Fq2J\"};","import React, { useState } from 'react'\r\nimport st from './Result.module.css';\r\nimport {\r\n  Card, CardHeader, CardBody, CardFooter, Text, Image, Stack, Heading, Divider, Button, ButtonGroup, Flex, Badge, IconButton, useDisclosure, Modal,\r\n  ModalOverlay,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ModalFooter,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n} from '@chakra-ui/react'\r\nimport StarRatings from 'react-star-ratings';\r\nimport { BsCart2 } from \"react-icons/bs\";\r\nimport { BiBookAdd } from \"react-icons/bi\";\r\nimport { GrFormView } from \"react-icons/gr\";\r\nimport { useToast } from '@chakra-ui/react'\r\nimport axios from 'axios';\r\nconst Result = (props) => {\r\n  const toast = useToast();\r\n  const addtocart = async (book_id) => {\r\n    try {\r\n      const userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n      const token = userInfo.token;\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,   //only Bearer token is accepted so we send token\r\n        },\r\n      };\r\n      const { data } = await axios.put(\"/api/books/wishlist\", { book_id }, config);\r\n      toast({\r\n        title: 'Book Added to cart',\r\n        status: 'success',\r\n        duration: 9000,\r\n        isClosable: true,\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n  const rentbook = async (book_id) => {\r\n    try {\r\n      const currentDate = new Date();\r\n\r\n      // Format the date in YYYY-MM-DD format\r\n      const rentalDate = currentDate.toISOString().split('T')[0];\r\n\r\n      // Calculate the expiry date (30 days from the current date)\r\n      const exp = new Date(currentDate);\r\n      exp.setDate(currentDate.getDate() + 30);\r\n\r\n      // Format the expiry date in YYYY-MM-DD format\r\n      const expiryDate = exp.toISOString().split('T')[0];\r\n      const userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n      const token = userInfo.token;\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,   //only Bearer token is accepted so we send token\r\n        },\r\n      };\r\n      const { data } = await axios.put(\"/api/books/rent\", { book_id,rentalDate,expiryDate }, config);\r\n      toast({\r\n        title: 'Book Rented You Can Check in Borrowed Section',\r\n        status: 'success',\r\n        duration: 9000,\r\n        isClosable: true,\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n  // console.log(props.searchResults)\r\n  const [isOpen, setIsOpen] = useState({});\r\n\r\n  // Function to open a modal for a specific book\r\n  const openModal = (bookId) => {\r\n    setIsOpen({ ...isOpen, [bookId]: true });\r\n  };\r\n\r\n  // Function to close a modal for a specific book\r\n  const closeModal = (bookId) => {\r\n    setIsOpen({ ...isOpen, [bookId]: false });\r\n  };\r\n  return (\r\n    <div className={st.par}>\r\n      {props.searchResults.map((e, ind) => (\r\n        <Card maxW='md' key={ind} >\r\n          <CardBody>\r\n            <Image\r\n              boxSize='200px'\r\n              objectFit='contain'\r\n              src={e.poster}\r\n              alt='Green double couch with wooden legs'\r\n              borderRadius='lg'\r\n            />\r\n            <Stack mt='7' alignItems={'center'} display={'flex'} >\r\n              <div className={st.booktxt}>{e.book_name}</div>\r\n              <Text>\r\n              </Text>\r\n              <StarRatings\r\n                textAlign={\"center\"}\r\n                rating={e.rating}\r\n                starRatedColor=\"golden\"\r\n                numberOfStars={5}\r\n                starDimension=\"16px\"\r\n              />\r\n              <Badge mt={'2'} colorScheme='green' id={st['badge']}>Rent for 30 Days</Badge>\r\n            </Stack>\r\n          </CardBody>\r\n          <CardFooter  >\r\n            <ButtonGroup spacing='2' w={'100%'} display={'flex'} flexDirection={'column'} justifyContent={'center'} gap={'2'}>\r\n              <Button onClick={() => openModal(e._id)} w={'80%'} size='sm' ml='5'>More Details</Button>\r\n\r\n              <Modal isOpen={isOpen[e._id]} onClose={() => closeModal(e._id)}>\r\n                <ModalOverlay />\r\n                <ModalContent>\r\n                  <ModalHeader textAlign={'center'}>{e.book_name}</ModalHeader>\r\n                  <ModalCloseButton />\r\n                  <ModalBody display={'flex'} flexDirection={'column'} alignItems={'center'} >\r\n                    <Image\r\n                      boxSize='200px'\r\n                      objectFit='contain'\r\n                      src={e.poster}\r\n                      alt='Green double couch with wooden legs'\r\n                      borderRadius='lg'\r\n                      mb={'5'}\r\n\r\n                    />\r\n                    <div className={st.modpar}>\r\n                      <div className={st.modh}><div className={st.modb}>Author :</div>&nbsp; {e.book_author}</div>\r\n                      <div className={st.modh}><div className={st.modb}>Genre  :</div>&nbsp; {e.book_genre}</div>\r\n                      <div className={st.modh}><div className={st.modb}>Total Copies :</div>&nbsp; {e.total_copies}</div>\r\n                      <div className={st.modh}><div className={st.modb}>Rating :</div>&nbsp; {e.rating} </div>\r\n                    </div>\r\n                  </ModalBody>\r\n\r\n                  <ModalFooter>\r\n\r\n                  </ModalFooter>\r\n                </ModalContent>\r\n              </Modal>\r\n\r\n              <ButtonGroup size='sm' isAttached variant='outline'>\r\n                <Button w={'80%'} onClick={() => addtocart(e._id)}>Add to Cart</Button>\r\n                <IconButton aria-label='Add to friends' icon={<BsCart2 />} />\r\n              </ButtonGroup>\r\n\r\n              <ButtonGroup size='sm' isAttached variant='outline'>\r\n                <Button w={'80%'} onClick={() => rentbook(e._id)}>Rent Book </Button>\r\n                <IconButton aria-label='Add to friends' icon={<BiBookAdd />} />\r\n              </ButtonGroup>\r\n\r\n            </ButtonGroup>\r\n          </CardFooter>\r\n        </Card>\r\n      )\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Result\r\n"],"names":["props","toast","useToast","addtocart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","book_id","userInfo","token","config","_yield$axios$put","wrap","_context","prev","next","JSON","parse","localStorage","getItem","headers","Authorization","concat","axios","sent","data","title","status","duration","isClosable","t0","console","log","message","stop","_x","apply","arguments","rentbook","_ref2","_callee2","currentDate","rentalDate","exp","expiryDate","_yield$axios$put2","_context2","Date","toISOString","split","setDate","getDate","_x2","_useState","useState","_useState2","_slicedToArray","isOpen","setIsOpen","_jsx","className","st","children","searchResults","map","e","ind","_jsxs","Card","maxW","CardBody","Image","boxSize","objectFit","src","poster","alt","borderRadius","Stack","mt","alignItems","display","book_name","Text","StarRatings","textAlign","rating","starRatedColor","numberOfStars","starDimension","Badge","colorScheme","id","CardFooter","ButtonGroup","spacing","w","flexDirection","justifyContent","gap","Button","onClick","bookId","_id","_objectSpread","_defineProperty","size","ml","Modal","onClose","ModalOverlay","ModalContent","ModalHeader","ModalCloseButton","ModalBody","mb","book_author","book_genre","total_copies","ModalFooter","isAttached","variant","IconButton","icon","BsCart2","BiBookAdd"],"sourceRoot":""}